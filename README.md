# C2-VK-iOS-Infection-Simulator
[![License: MIT](https://img.shields.io/badge/License-MIT-darkgreen.svg)](https://github.com/safroalex/C2-iOS-VK-Infection-Simulator/blob/main/LICENSE)
[![Codacy Badge](https://app.codacy.com/project/badge/Grade/31aa420a818b46e6b6f9c99e58d5bb08)](https://app.codacy.com/gh/safroalex/C2-iOS-VK-Infection-Simulator/dashboard?utm_source=gh&utm_medium=referral&utm_content=&utm_campaign=Badge_grade)


Симулятор распространения вируса
Нужно разработать iOS-приложение, которое симулирует и визуализирует распространение инфекции в группе людей.
Приложение должно включать два экрана:
1) Экран ввода параметров;
2) Экран визуализации моделирования.
Сценарий работы
1. При запуске приложения пользователь видит экран ввода параметров:
• количество людей в моделируемой группе — GroupSize (например, 100);
• количество людей, которое может быть заражено одним человеком при контакте - InfectionFactor (например, 3);
• период пересчёта количества заражённых людей — Т (например, 1 секунда).
Также на этом экране должна присутствовать кнопка «Запустить моделирование».
2. После ввода параметров и нажатия на кнопку «Запустить моделирование» открывается новый экран моделирования.
3. Экран моделирования отображает всю моделируемую группу людей. Экран должен поддерживать scroll (прокрутку), так как группа людей может быть достаточно большой и не помещаться на одном экране. Также для наглядности стоит реализовать zoom — увеличение/уменьшение масштаба отображения группы.
4. В начальном состоянии в группе нет инфицированных людей — все объекты отображаются как «здоровые».
5. Если пользователь нажимает на «здоровый» элемент, тот становится «больным» и перерисовывается соответствующим образом. За время работы системы моделирования пользователь может нажимать на неограниченное количество «здоровых» элементов, тем самым «заражая» их. При этом мультивыбор с помощью swipe (скольжения пальца) делать не обязательно, но если вы сделаете, мы это оценим.
6. С указанной на экране ввода параметров частотой Т пересчитывается количество «больных» элементов с последующим обновлением экрана.
7. Правило пересчёта: случайное подмножество «соседних» элементов «больного» элемента также становятся «больными», но размер подмножества «заражённых» элементов одним «больным» элементом не должен превышать InfectionFactor. При этом «по соседству» могут уже находиться два «больных» элемента А и В, и это нужно учитывать при пересчёте: оба «больных» элемента могут заразить одного общего соседа при случайном выборе или «больной» А может заразить общего соседа, которого «не смог заразить» В. После пересчёта количества «больных» элементов состояние экрана перерисовывается.
8. Также полезно реализовать UI-элемент, отображающий текущее количество «здоровых» и «больных» элементов.
Технические требования
1. Пересчёт количества «больных» элементов должен выполняться НЕ в UI-потоке приложения.
2. Интерфейс приложения должен быть отзывчивым в любой момент времени: экран должен реагировать при нажатии на элементы (заражение «здоровых» элементов по инициативе пользователя должно быть учтено как можно скорее, даже если в данный момент выполняется пересчёт нового состояния экрана).
3. Размеры элементов должны соответствовать Human Interface Guidelines, чтобы пользователю было удобно взаимодействовать с элементами.
4. Язык программирования: Objective-C или Swift.
Анимации и картинки отображения «здоровых» и «больных» элементов остаются на усмотрение реализующего.
Критерии оценки
1. В первую очередь будет оцениваться реализация вычисления состояний экрана в фоновой очереди с последующей синхронизацией экрана.
2. Также очень важна отзывчивость и плавность работы интерфейса.
3. Важно соответствие Human Interface Guidelines - удобство взаимодействия с интерфейсом.
4. Очень большим плюсом будет и визуальная составляющая приложения: аккуратность интерфейса, удобство использования и красота.
Рекомендации
1. Использование стандартных средств iOS, например, UlCollectionView для отображения, DispatchQueue для работы с очередями или стандартных средств для работы с потоками.
2. Учитывая требования, может быть полезным выполнять пересчёт не всего экрана вместе, а параллельно для каждого «больного» элемента с последующим обновлением соответствующей части отображения.


## План разработки

Проект разрабатывается с использованием Swift и UIKit. Целью проекта является создание iOS-приложения, симулирующего распространение вирусной инфекции среди группы людей.

### День 1: Настройка проекта и экран ввода параметров

- [x] Создание нового проекта в Xcode для iOS.
- [ ] Настройка интерфейса пользователя для экрана ввода параметров с использованием `UIViewController`.
    - [ ] Добавление `UITextField` для параметров: GroupSize, InfectionFactor, T.
    - [ ] Размещение кнопки "Запустить моделирование".
- [ ] Реализация перехода к экрану визуализации при нажатии на кнопку.

### День 2: Реализация экрана визуализации и модели данных

- [ ] Разработка модели данных для представления человека с состояниями здоровья.
- [ ] Настройка `UICollectionView` для отображения людей в виде сетки.
    - [ ] Конфигурация custom layout, если требуется.
- [ ] Добавление обработчика нажатий на ячейки для изменения состояния здоровья.

### День 3: Логика моделирования и многопоточность

- [ ] Реализация механизма пересчета заражений в фоновом потоке с использованием `DispatchQueue`.
- [ ] Асинхронное обновление `UICollectionView` в основном потоке после каждого пересчета.

### День 4: Полировка, тестирование и оптимизация

- [ ] Тестирование приложения на разных устройствах и симуляторах.
- [ ] Оптимизация производительности и устранение задержек в интерфейсе.
- [ ] Улучшение визуального оформления в соответствии с Human Interface Guidelines.
    - [ ] Добавление анимаций и визуальных эффектов для улучшения пользовательского опыта.



